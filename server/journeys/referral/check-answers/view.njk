{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "govuk/components/button/macro.njk" import govukButton %}

{% extends "partials/layout.njk" %}

{% set fullWidth = true %}
{% set pageTitle = "Check answers - Make a CSIP referral" %}

{% block innerContent %}
    <span class="govuk-caption-l">Make a CSIP referral</span>
    <h1 class="govuk-heading-l govuk-!-margin-bottom-7">Check your answers before sending the referral</h1>

    <h1 class="govuk-heading-m">Referral details</h1>
    {{ govukSummaryList({
        rows: [
            {
                key: {
                text: "Referral made on behalf of someone else"
            },
                value: {
                text: "Yes" if referral.isOnBehalfOfReferral else "No"
            },
                actions: {
                items: [
                    {
                        href: "on-behalf-of",
                        text: "Change",
                        visuallyHiddenText: " whether Referral was made on behalf of someone else"
                    }
                ]
            }
            },
            {
                key: {
                text: "Name of referrer"
            },
                value: {
                text: referral.referredBy
            },
                actions: {
                items: [
                    {
                        href: "referrer" if referral.isOnBehalfOfReferral else "on-behalf-of",
                        text: "Change",
                        visuallyHiddenText: " Name of referrer"
                    }
                ]
            }
            },
            {
                key: {
                text: "Area of work"
            },
                value: {
                html: referral.refererArea.description
            },
                actions: {
                items: [
                    {
                        href: "referrer" if referral.isOnBehalfOfReferral else "area-of-work",
                        text: "Change",
                        visuallyHiddenText: " Area of work"
                    }
                ]
            }
            },
            {
                key: {
                text: "Proactive or reactive referral"
            },
                value: {
                html: "Proactive" if referral.isProactiveReferral else "Reactive"
            },
                actions: {
                items: [
                    {
                        href: "proactive-or-reactive",
                        text: "Change",
                        visuallyHiddenText: " Proactive or reactive referral"
                    }
                ]
            }
            }
        ]
    }) }}
    <form method="post">
        <input type="hidden" name="_csrf" value="{{ csrfToken }}"/>
        <div class="govuk-button-group">
            {{ govukButton({
                text: "Confirm and send",
                preventDoubleClick: true
            }) }}
            <a class="govuk-link" href="{{ digitalPrisonServicesUrl }}">Cancel</a>
        </div>
    </form>
{% endblock %}